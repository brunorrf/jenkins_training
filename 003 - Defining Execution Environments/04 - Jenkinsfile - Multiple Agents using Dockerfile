pipeline {
    agent none
 stages {
        stage('build java') {
		    agent { 
				dockerfile {
					dir '003 - Defining Execution Environments'
					filename '04 - Dockerfile - Multiple Agents using Dockerfile - maven'
				}
			}
            steps {
                sh 'mvn --version'
            }
        }
        stage('build node') {
		    agent { 
				dockerfile {
					dir '003 - Defining Execution Environments'
					filename '04 - Dockerfile - Multiple Agents using Dockerfile - npm'
				}
			}
            steps {
                sh 'npm --version'
            }
        }
    }
}
